{"version":3,"sources":["random_quote/core.cljs"],"mappings":";AAMA,AAAA,AAAAA,AAAAC,AAAAC;AAAA;AAAA,AAAA,AAASC,AAAU,AAAA,AAAA,AAAA,AAAA,AAAA,AAACC;;AAIpB,AAAA,AAAMC,AAAaC;AAAnB,AAEE,AAAA,AAAA,AAAA,AAACC,AAEW,AAAKC;AAAL,AACE,AAAA,AAACC,AAAMH,AAAMI,AAAY,AAAA,AAACC,AAAI,AAAA,AAACA,AAAI,AAAA,AAACA,AAAIH;;AACxC,AAAA,AAACC,AAAMH,AAAMI,AAAc,AAAA,AAACC,AAAI,AAAA,AAACA,AAAI,AAAA,AAACA,AAAIH;AAJxD,AAKkB,AAAAI;AAAA,AAAA,AAAAC,AAAAD;AAAAC,AAAA,AAAA,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAAC,AAAA,AAAAD,AAAA,AAAA,AAAA,AAAA,AAAAE,AAAAC,AAAAH,AAAAA;AAAA,AAAAF,AAAAE,AAAA,AAAaI;AAAb,AAAAN,AAAAE,AAAA,AAAoBK;AAApB,AACE,AAACC,AAAeF,AAAOC;;;AAG7C,AAAA,AAAME,AAAYd;AAAlB,AACE,AAAA,AAAA,AAA6D,AAAA,AAAA,AAAAe,AAAQf,AAAa,AAAA,AAAA,AAAAe,AAAUf;;AAG9F,AAAA,AAAMgB,AAAOhB;AAAb,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAKuB,AAAA,AAAA,AAAAe,AAAQf,AACT,AAAA,AAAA,AAAAe,AAAUf,AAGhB,AAACc,AAAWd;AAT5B,AAW0B,AAACD,AAAYC;AAXvC;;AAcA,AAAA,AAAMiB;AAAN,AACE,AAAAC,AAAA,AAA2BF,AAAMnB;AAAjCsB,AAC0B,AAAA,AAAGE;AAD7B,AAAA,AAAAH,AAAAC,AAAAD,AAAAC,AAACC,AAAAA,AAAAA;;AAGH,AAAA,AAAeE;AAAf,AAIE,AAACL;;;AAEH,AAAA,AAAMM;AAAN,AAGE,AAAA,AAACV","names":["js/random-quote","js/random-quote.core","js/random-quote.core.app-state","random-quote.core/app-state","reagent.core.atom","random-quote.core/fetch-link!","state","ajax.core.GET","data","cljs.core.swap_BANG_","cljs.core/assoc","cljs.core.get","p__29533","map__29534","cljs.core/PROTOCOL_SENTINEL","cljs.core.apply","cljs.core/hash-map","status","status-text","js/console.log","random-quote.core/tweet-link","cljs.core/deref","random-quote.core/quote","random-quote.core/start","G__29537","G__29538","reagent.core/render-component","js/document","random-quote.core/init","random-quote.core/stop"],"sourcesContent":["(ns random-quote.core\n  (:require [ajax.core :refer [GET]]\n            [reagent.core :as reagent :refer [atom]]))\n\n;; define your app data so that it doesn't get over-written on reload\n\n(defonce app-state (atom {:text \"Welcome to my Random Quote Generator\"\n                          :author \"by Cesar Roberto\"}))\n\n;; Function that calls the random quote app\n(defn fetch-link! [state]\n  ;; using the GET function from ajax.core\n  (GET \"https://quote-garden.herokuapp.com/api/v3/quotes/random\"\n    ;; The data var has the map with the info of the quote\n    {:handler (fn [data]\n                (swap! state assoc :text (get (get (get data \"data\") 0) \"quoteText\"))\n                (swap! state assoc :author (get (get (get data \"data\") 0) \"quoteAuthor\")))\n     :error-handler (fn [{:keys [status status-text]}]\n                      (js/console.log status status-text))}))\n\n;; Links our quotes to twitter\n(defn tweet-link [state]\n  (str \"https://twitter.com/intent/tweet?hashtags=quote&text=\" (:text @state) \" - \" (:author @state)))\n\n;; Some html in a weid way\n(defn quote [state] \n  [:div\n   [:h1 \"Random Quote Generator by Cesar\"]\n   [:div.quote\n    [:div.quote-container\n     [:p.quote-content (:text @state)]\n     [:p.quote-author (:author @state)]]\n    \n    [:div.quote-buttons\n     [:a {:href (tweet-link state)\n          :target \"_blank\"} \"tweet\"]\n     [:button {:on-click #(fetch-link! state)} \"next quote\"]]]]\n  )\n\n(defn start []\n  (reagent/render-component [quote app-state]\n                            (. js/document (getElementById \"app\"))))\n\n(defn ^:export init []\n  ;; init is called ONCE when the page loads\n  ;; this is called in the index.html and must be exported\n  ;; so it is available even in :advanced release builds\n  (start))\n\n(defn stop []\n  ;; stop is called before any code is reloaded\n  ;; this is controlled by :before-load in the config\n  (js/console.log \"stop\"))\n\n"]}